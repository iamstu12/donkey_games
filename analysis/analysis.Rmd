---
title: "Donkey Games"
subtitle: "Final Project"
author: "Stuart McColl"
date: "January 2021"
output:
  html_document:
    df_print: paged
    toc: yes
    toc_float: yes
  pdf_document:
    toc: yes
  word_document:
    toc: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r, include = FALSE}

# read in cleaned data and load libraries:

library(tidyverse)
library(rmarkdown)
library(pander)
library(latexpdf)
library(here)

here::here()

clean_sales_data <- read_csv(here("clean_data", "clean_sales_data.csv"))


```


# Introduction 

The following report provides an exploratory analysis into the sales of video games. The data used for this report contains the global sales of games dating as far back as 1970 through to the present. Having such a vast range of games sales allows for a interesting look in to trends in top games across the years in order to identify what types of games, historically have performed well.

# The Data

### General Observations

**A brief glimpse at the data:**

```{r, echo = FALSE}

clean_sales_data %>% 
  head()

```
The data is an amalgamation of 4 data sets, each with their own set of sales and useful information. The final data contains the most up to date sales figures for each game as of 2019.

<br>

**What are the top 10 games?**

```{r,echo = FALSE}

clean_sales_data %>% 
  slice_max(global_sales, n = 10)

```
The results are interesting; **Nintendo** fill the entire top ten with a mix of retro games and games for the Wii console. Super Mario Bros, which was originally released in 1985 ranked number two in the best selling games. Taking first place is Wii Sports.

<hr>

**What are the top game genres?**

```{r, message=FALSE, echo = FALSE}

clean_sales_data %>% 
  group_by(genre) %>% 
  summarise(global_sales_millions = sum(global_sales)) %>% 
  arrange(desc(global_sales_millions)) %>% 
  
  ggplot(aes(x = reorder(genre, global_sales_millions), 
             y = global_sales_millions)) +
  geom_col(alpha = 0.8, colour = "white", fill = "#cc9900") +
  coord_flip() +
  theme_light() +
  labs(title = "Top Performing Games Genres", 
       subtitle = "from 1970 to 2020",
       x = "Genre", 
       y = "Global Sales (millions)") +
   scale_y_continuous(breaks = c(0, 250, 500, 750, 1000, 1250, 1500, 1750, 2000, 2250),
                     expand = c(0.025, 0.025))


```

<br>

### Action-Adventure Games

```{r, echo = FALSE, include = T}

clean_sales_data %>% 
  filter(genre == "Action-Adventure") %>% 
  slice_max(global_sales, n = 5)

```
**Grand Theft Auto** clearly dominates the **Action-Adventure** category.

<hr>

### Sports Games

```{r, echo = FALSE, include = T}

clean_sales_data %>% 
  filter(genre == "Sports") %>% 
  slice_max(global_sales, n = 5)

```
**Wii Sports** clearly wins this category. **FIFA** also highly ranked in this 
category.

<hr>

### Shooter Games

```{r, echo = FALSE, include = T}

clean_sales_data %>% 
  filter(genre == "Shooter") %>% 
  slice_max(global_sales, n = 5)

```
**Duck Hunt**, the classic Nintendo game from 1984 tops this category. **Call of Duty** tops the 'modern' games in this category.

<hr>

### Role Playing Games

```{r, echo = FALSE, include = T}

clean_sales_data %>% 
  filter(genre == "Role-Playing") %>% 
  slice_max(global_sales, n = 5)

```
**Pokemon** are the clear winners from this category.

<hr>

### Platform Games

```{r, echo = FALSE, include = T}

clean_sales_data %>% 
  filter(genre == "Platform") %>% 
  slice_max(global_sales, n = 5)

```
**Super Mario** wins.

<hr>

### Other Games

```{r, echo = FALSE, include = T}

clean_sales_data %>% 
  filter(genre == "Other") %>% 
  slice_max(global_sales, n = 5)

```
This is an interesting category as there is quite a mix of top games. It is clear that the Wii is popular, especially with interactive games, such as **Wii Play** and **Just Dance** scoring highly.

<hr>

### Racing Games

```{r, echo = FALSE, include = T}

clean_sales_data %>% 
  filter(genre == "Racing") %>% 
  slice_max(global_sales, n = 5)

```
**Mario Kart** taking lead in this category. Special mention to **Gran Turismo** also as the top 'non-Nintendo' game.

<hr>

### Fighting Games

```{r, echo = FALSE, include = T}

clean_sales_data %>% 
  filter(genre == "Fighting") %>% 
  slice_max(global_sales, n = 5)

```
**Super Smash Bros. Brawl** for the Wii taking first place in this category. Classic fighting games such as **Tekken** and **Street Fighter** are very popular.

<hr>

### Simulation Games

```{r, echo = FALSE, include = T}

clean_sales_data %>% 
  filter(genre == "Simulation") %>% 
  slice_max(global_sales, n = 5)

```
Interesting result from this category, **Nintendogs** is top in global sales. **The Sims** and **Animal Crossing** also performing well.

<hr>

### Puzzle Games

```{r, echo = FALSE, include = T}

clean_sales_data %>% 
  filter(genre == "Puzzle") %>% 
  slice_max(global_sales, n = 5)

```
**Tetris** is the top classic puzzle game. **Brain Age** performed very well in this category.

<hr>

### Adventure Games

```{r, echo = FALSE, include = F}

sales_all_clean %>% 
  select(name, console, year_of_release, genre, publisher, global_sales, sales_year) %>% 
  filter(genre == "Adventure") %>% 
  filter(sales_year == 2016) %>% 
  slice_max(global_sales, n = 5)

```

```{r, echo = FALSE, include = F}

sales_all_clean %>% 
  select(name, console, year_of_release, genre, publisher, global_sales, sales_year) %>% 
  filter(genre == "Adventure") %>% 
  filter(sales_year == 2019) %>% 
  slice_max(global_sales, n = 5)

```

```{r, echo = F}

tibble(
  "2016" = c("Super Mario Land 2: 6 Golden Coins (GB)",
             "Assassin's Creed (X360)",
             "Assassin's Creed (PS3)",
             "Zelda II: The Adventure of Link (NES)",
             "Rugrats: Search For Reptar (PS)"),
  
  "2019" = c("Tomb Raider II (PS)",
             "LEGO Indiana Jones: The Original Adventures (X360)",
             "Tomb Raider III: Adventures of Lara Croft (PS)",
             "LEGO Batman: The Videogame (X360)",
             "Rugrats: Search For Reptar (PS)")
) %>% 
  pander()

```

**Super Mario Land 2: 6 Golden Coins** is the number one 'Adventure' game, released in 1992 for the GameBoy. **Assassin's Creed** is the top 'modern' game in this category.

<hr>

### Strategy Games

```{r, echo = FALSE, include = F}

sales_all_clean %>% 
  select(name, console, year_of_release, genre, publisher, global_sales, sales_year) %>% 
  filter(genre == "Strategy") %>% 
  filter(sales_year == 2016) %>% 
  slice_max(global_sales, n = 5)

```
```{r, echo = FALSE, include = F}

sales_all_clean %>% 
  select(name, console, year_of_release, genre, publisher, global_sales, sales_year) %>% 
  filter(genre == "Strategy") %>% 
  filter(sales_year == 2019) %>% 
  slice_max(global_sales, n = 5)

```

```{r, echo = FALSE}

tibble(
  "2016" = c("Pokemon Stadium (N64)",
             "Warzone 2100 (PS)",
             "StarCraft II: Wings of Liberty (PC)",
             "Warcraft II: Tides of Darkness (PC)",
             "PokÃ©mon Trading Card Game (GB)"),
  
  "2019" = c("Warzone 2100 (PS)",
             "Command & Conquer: Red Alert (PC)",
             "Halo Wars (X360)",
             "Mario + Rabbids: Kingdom Battle (NS)",
             "Theme Hospital (PC)")
) %>% 
  pander()

```

**Pokemon Stadium** is the top game in this category.

<hr>


```{r, include=FALSE}


sales_all_clean %>% 
  filter(year_of_release != "Unknown") %>% 
  summarise(min = min(year_of_release), 
            max = max(year_of_release))

# 1970 to 2020

```

#

```{r, echo = FALSE}

sales_all_clean %>% 
  filter(year_of_release >= "1970" & year_of_release <= "1979") %>% 
  slice_max(global_sales, n = 5) %>% 
  select(name, console, year_of_release, genre, global_sales) 

```

```{r, echo = FALSE}

sales_all_clean %>% 
  filter(year_of_release >= "1970" & year_of_release <= "1979") %>% 
  group_by(genre) %>% 
  summarise(global_sales_millions = sum(global_sales)) %>% 
  arrange(desc(global_sales_millions)) %>% 
  
  ggplot(aes(x = reorder(genre, global_sales_millions), 
             y = global_sales_millions)) +
  geom_col(alpha = 0.8, colour = "white", fill = "#cc9900") +
  coord_flip() +
  theme_light() +
  labs(title = "Top Performing Games Genres", 
       subtitle = "1970s",
       x = "Genre", 
       y = "Global Sales (millions)") +
   scale_y_continuous(breaks = c(0, 0.5, 1, 1.5 ),
                     expand = c(0.025, 0.025))
  
  

```


```{r}

sales_all_clean %>% 
  filter(sales_year == 2016) %>% 
  group_by(genre) %>% 
  summarise(global_sales_millions = sum(global_sales)) %>% 
  arrange(desc(global_sales_millions)) %>% 
  
  ggplot(aes(x = reorder(genre, global_sales_millions), 
             y = global_sales_millions)) +
  geom_col(alpha = 0.8, colour = "white", fill = "#cc9900") +
  coord_flip() +
  theme_light() +
  labs(title = "Top Performing Games Genres", 
       subtitle = "in 2016",
       x = "Genre", 
       y = "Global Sales (millions)") +
   scale_y_continuous(breaks = c(0, 250, 500, 750, 1000, 1250, 1500, 1750),
                     expand = c(0.025, 0.025))


```





